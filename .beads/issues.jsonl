{"id":"organizer-o16","title":"Questline MVP (Go CLI/TUI + SQLite)","description":"Implement Questline MVP per spec: Go 1.23+, SQLite (~/.questline.db), Cobra CLI, Bubbletea dashboard, RPG XP/levels, gating/unlocks, projects/habits/subtasks, blueprints, and core tests.","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-14T16:28:40.25177+01:00","updated_at":"2025-12-14T16:28:40.25177+01:00"}
{"id":"organizer-o16.1","title":"Bootstrap Go module + repo layout","description":"Initialize Go module for Questline (ql), add standard folders (cmd/ql, internal/engine, internal/storage, internal/tui), wire root Cobra command, choose SQLite driver (prefer modernc.org/sqlite), and ensure `go test ./...` runs.","acceptance_criteria":"- `go.mod` exists and `go test ./...` passes\n- `ql --help` runs and shows commands scaffold","status":"closed","priority":1,"issue_type":"task","estimated_minutes":180,"created_at":"2025-12-14T16:30:16.781092+01:00","updated_at":"2025-12-14T16:47:51.276873+01:00","closed_at":"2025-12-14T16:47:51.276873+01:00","dependencies":[{"issue_id":"organizer-o16.1","depends_on_id":"organizer-o16","type":"parent-child","created_at":"2025-12-14T16:30:16.782079+01:00","created_by":"daemon"}]}
{"id":"organizer-o16.10","title":"Tests: project completion + habit decay + XP math","description":"Add Go unit tests for core rules: project planning/activation/completion/bonus XP, habit decay (\u003e5 completions in 7 days halves XP), and XP/level calculations + unlock boundary checks. Use temp SQLite DB per test.","acceptance_criteria":"- `go test ./...` passes\n- Tests cover project completion bonus and PLANNING constraints\n- Tests cover habit decay and reset on difficulty increase\n- Tests cover XP curve + LevelForTotalXP boundaries","status":"closed","priority":1,"issue_type":"task","estimated_minutes":360,"created_at":"2025-12-14T16:33:27.202112+01:00","updated_at":"2025-12-14T17:28:40.498401+01:00","closed_at":"2025-12-14T17:28:40.498401+01:00","dependencies":[{"issue_id":"organizer-o16.10","depends_on_id":"organizer-o16","type":"parent-child","created_at":"2025-12-14T16:33:27.202857+01:00","created_by":"daemon"},{"issue_id":"organizer-o16.10","depends_on_id":"organizer-o16.6","type":"blocks","created_at":"2025-12-14T16:34:32.124384+01:00","created_by":"daemon"},{"issue_id":"organizer-o16.10","depends_on_id":"organizer-o16.5","type":"blocks","created_at":"2025-12-14T16:34:32.178246+01:00","created_by":"daemon"}]}
{"id":"organizer-o16.11","title":"Docs: README + install/run instructions for ql","description":"Update README to describe Questline MVP (Go + SQLite), how to build/install (`go build` / `go install`), DB location/config overrides, and basic command examples (add/do/list/status/accept/board). Decide what to do with the existing Python placeholder (remove or move to legacy/).","acceptance_criteria":"- README describes Questline (not Organizer) and includes build/run steps\n- README documents DB path and override knobs\n- README includes example flows for core commands","status":"open","priority":2,"issue_type":"task","estimated_minutes":120,"created_at":"2025-12-14T16:34:02.772802+01:00","updated_at":"2025-12-14T16:34:02.772802+01:00","dependencies":[{"issue_id":"organizer-o16.11","depends_on_id":"organizer-o16","type":"parent-child","created_at":"2025-12-14T16:34:02.773551+01:00","created_by":"daemon"},{"issue_id":"organizer-o16.11","depends_on_id":"organizer-o16.8","type":"blocks","created_at":"2025-12-14T16:34:32.234603+01:00","created_by":"daemon"}]}
{"id":"organizer-o16.2","title":"SQLite storage layer (schema + repos + migrations)","description":"Implement SQLite persistence: open/create DB at ~/.questline.db (override via env/config), idempotent migrations for player/tasks/blueprints (+ minimal completion history table needed for habit decay), and repositories (PlayerRepo/TaskRepo/BlueprintRepo) with transaction helpers.","acceptance_criteria":"- DB auto-creates with tables on first run\n- Repos support: get-or-create player, insert/get/list tasks, mark done, list children, blueprint status changes\n- Storage layer has no business logic (only queries/transactions)","status":"closed","priority":1,"issue_type":"task","estimated_minutes":240,"created_at":"2025-12-14T16:31:00.859183+01:00","updated_at":"2025-12-14T16:54:29.673013+01:00","closed_at":"2025-12-14T16:54:29.673013+01:00","dependencies":[{"issue_id":"organizer-o16.2","depends_on_id":"organizer-o16","type":"parent-child","created_at":"2025-12-14T16:31:00.860021+01:00","created_by":"daemon"},{"issue_id":"organizer-o16.2","depends_on_id":"organizer-o16.1","type":"blocks","created_at":"2025-12-14T16:34:31.364881+01:00","created_by":"daemon"}]}
{"id":"organizer-o16.3","title":"Engine: XP, levels, attributes, and feature gates","description":"Implement core domain math and gating: attributes (STR/INT/WIS/ART, default WIS), XP curve (500*L^1.5), total+attribute levels, task XP formula (difficulty table + attribute-level bonus), and skill-tree gates (max active tasks, subtask depth, habits/projects unlock levels).","acceptance_criteria":"- Deterministic functions for XPRequiredForLevel, LevelForTotalXP, AttributeLevelForXP\n- CalculateXP matches spec and freezes xp_value at creation\n- Gate checks return clear errors with required levels/limits","status":"closed","priority":1,"issue_type":"task","estimated_minutes":240,"created_at":"2025-12-14T16:31:19.383023+01:00","updated_at":"2025-12-14T17:02:07.981607+01:00","closed_at":"2025-12-14T17:02:07.981607+01:00","dependencies":[{"issue_id":"organizer-o16.3","depends_on_id":"organizer-o16","type":"parent-child","created_at":"2025-12-14T16:31:19.383872+01:00","created_by":"daemon"},{"issue_id":"organizer-o16.3","depends_on_id":"organizer-o16.1","type":"blocks","created_at":"2025-12-14T16:34:31.418232+01:00","created_by":"daemon"}]}
{"id":"organizer-o16.4","title":"Engine: create tasks/projects/habits (activation + constraints)","description":"Implement create flows in engine using storage repos: create leaf tasks (freeze xp_value), create projects (status=planning, xp_value=0), create habits (interval daily/weekly), enforce max active tasks, enforce subtask depth, and flip project planning→active when first child is added.","acceptance_criteria":"- ql add can create leaf task with correct xp_value + default WIS\n- Project creation enforces level \u003e= 7 and starts PLANNING\n- Adding first child task flips project to ACTIVE\n- Subtask constraints enforced (none \u003c L3; depth 1 until L10)","status":"closed","priority":1,"issue_type":"task","estimated_minutes":300,"created_at":"2025-12-14T16:31:37.486877+01:00","updated_at":"2025-12-14T17:13:20.912553+01:00","closed_at":"2025-12-14T17:13:20.912553+01:00","dependencies":[{"issue_id":"organizer-o16.4","depends_on_id":"organizer-o16","type":"parent-child","created_at":"2025-12-14T16:31:37.487564+01:00","created_by":"daemon"},{"issue_id":"organizer-o16.4","depends_on_id":"organizer-o16.2","type":"blocks","created_at":"2025-12-14T16:34:31.47289+01:00","created_by":"daemon"},{"issue_id":"organizer-o16.4","depends_on_id":"organizer-o16.3","type":"blocks","created_at":"2025-12-14T16:34:31.529028+01:00","created_by":"daemon"}]}
{"id":"organizer-o16.5","title":"Engine: complete task/project (HP, bonus XP, level-up events)","description":"Implement completion use cases: ql do for leaf tasks and projects. Award xp_value to player + attribute XP, recompute derived project HP (sum of uncompleted descendants), block project completion while PLANNING, allow project completion only when all children are done, and grant 10% bonus of total project volume on completion. Emit LevelUp events for blueprint unlock checks.","acceptance_criteria":"- Completing a leaf task marks it done, timestamps it, and awards XP\n- Project completion rules enforced (no DONE while PLANNING; must have all descendants done)\n- Project bonus XP = 10% of project volume\n- Level-up event triggers blueprint evaluation hook","status":"closed","priority":1,"issue_type":"task","estimated_minutes":360,"created_at":"2025-12-14T16:31:56.520946+01:00","updated_at":"2025-12-14T17:17:52.92053+01:00","closed_at":"2025-12-14T17:17:52.92053+01:00","dependencies":[{"issue_id":"organizer-o16.5","depends_on_id":"organizer-o16","type":"parent-child","created_at":"2025-12-14T16:31:56.52174+01:00","created_by":"daemon"},{"issue_id":"organizer-o16.5","depends_on_id":"organizer-o16.4","type":"blocks","created_at":"2025-12-14T16:34:31.585272+01:00","created_by":"daemon"}]}
{"id":"organizer-o16.6","title":"Engine: habits (recurrence + diminishing returns)","description":"Implement habits: recurring reset (daily/weekly), completion logging, and diminishing returns rule (if completed \u003e5 times in 7 days without difficulty increase, XP reward halves). Editing habit difficulty upward resets decay behavior.","acceptance_criteria":"- Habit completion creates a completion record and resets habit to pending with next due date\n- 6th+ completion within 7 days at same difficulty awards 50% XP\n- Increasing habit difficulty restores full XP (no decay until threshold again)","status":"closed","priority":1,"issue_type":"task","estimated_minutes":300,"created_at":"2025-12-14T16:32:14.220106+01:00","updated_at":"2025-12-14T17:22:44.057446+01:00","closed_at":"2025-12-14T17:22:44.057446+01:00","dependencies":[{"issue_id":"organizer-o16.6","depends_on_id":"organizer-o16","type":"parent-child","created_at":"2025-12-14T16:32:14.220833+01:00","created_by":"daemon"},{"issue_id":"organizer-o16.6","depends_on_id":"organizer-o16.5","type":"blocks","created_at":"2025-12-14T16:34:31.639374+01:00","created_by":"daemon"},{"issue_id":"organizer-o16.6","depends_on_id":"organizer-o16.2","type":"blocks","created_at":"2025-12-14T16:34:31.693414+01:00","created_by":"daemon"}]}
{"id":"organizer-o16.7","title":"Blueprints: definitions, unlock checks, and accept command","description":"Implement hardcoded blueprints in engine/blueprints.go, persist statuses (locked/available/active/completed), evaluate unlocks on LevelUp events (global + attribute levels), and implement accept flow to instantiate tasks/projects/habits into tasks table. Include MVP blueprints: str_starter, art_reader, art_critic with prerequisites.","acceptance_criteria":"- On level-up, newly available blueprints transition locked→available\n- `ql accept \u003ccode\u003e` creates the correct entity (habit/project/task)\n- art_critic enforces prereq: completed \"Read a Book\" project","status":"open","priority":2,"issue_type":"task","estimated_minutes":240,"created_at":"2025-12-14T16:32:32.421217+01:00","updated_at":"2025-12-14T16:32:32.421217+01:00","dependencies":[{"issue_id":"organizer-o16.7","depends_on_id":"organizer-o16","type":"parent-child","created_at":"2025-12-14T16:32:32.42191+01:00","created_by":"daemon"},{"issue_id":"organizer-o16.7","depends_on_id":"organizer-o16.5","type":"blocks","created_at":"2025-12-14T16:34:31.747106+01:00","created_by":"daemon"},{"issue_id":"organizer-o16.7","depends_on_id":"organizer-o16.2","type":"blocks","created_at":"2025-12-14T16:34:31.80131+01:00","created_by":"daemon"}]}
{"id":"organizer-o16.8","title":"CLI (Cobra): add/do/list/status/accept","description":"Implement Cobra commands: `ql add`, `ql do`, `ql list` (ASCII tree), `ql status` (player stats + unlocks), `ql accept`. Wire flags per spec (diff/attr/parent/project) and print clear outputs + errors from engine.","acceptance_criteria":"- Commands match spec and validate arguments\n- `ql list` prints a stable tree view\n- Errors are user-readable (include required level when gated)","status":"open","priority":1,"issue_type":"task","estimated_minutes":360,"created_at":"2025-12-14T16:32:49.980358+01:00","updated_at":"2025-12-14T16:32:49.980358+01:00","dependencies":[{"issue_id":"organizer-o16.8","depends_on_id":"organizer-o16","type":"parent-child","created_at":"2025-12-14T16:32:49.981072+01:00","created_by":"daemon"},{"issue_id":"organizer-o16.8","depends_on_id":"organizer-o16.7","type":"blocks","created_at":"2025-12-14T16:34:31.85542+01:00","created_by":"daemon"},{"issue_id":"organizer-o16.8","depends_on_id":"organizer-o16.5","type":"blocks","created_at":"2025-12-14T16:34:31.908647+01:00","created_by":"daemon"},{"issue_id":"organizer-o16.8","depends_on_id":"organizer-o16.2","type":"blocks","created_at":"2025-12-14T16:34:31.962809+01:00","created_by":"daemon"}]}
{"id":"organizer-o16.9","title":"TUI (Bubbletea): ql board dashboard","description":"Implement Bubbletea dashboard `ql board` per spec: header (name/level/xp bar), sidebar (attribute progress bars), main area (focus 1–3 suggested tasks + collapsible quest log tree), footer (last log message). Support basic navigation and completing a selected task.","acceptance_criteria":"- `ql board` launches and renders header/sidebar/main/footer\n- Focus view shows 1–3 suggested leaf tasks\n- Quest log tree expands/collapses and refreshes from DB\n- Can complete selected task and see XP/log update","status":"open","priority":2,"issue_type":"task","estimated_minutes":420,"created_at":"2025-12-14T16:33:09.141164+01:00","updated_at":"2025-12-14T16:33:09.141164+01:00","dependencies":[{"issue_id":"organizer-o16.9","depends_on_id":"organizer-o16","type":"parent-child","created_at":"2025-12-14T16:33:09.142152+01:00","created_by":"daemon"},{"issue_id":"organizer-o16.9","depends_on_id":"organizer-o16.5","type":"blocks","created_at":"2025-12-14T16:34:32.01628+01:00","created_by":"daemon"},{"issue_id":"organizer-o16.9","depends_on_id":"organizer-o16.2","type":"blocks","created_at":"2025-12-14T16:34:32.070306+01:00","created_by":"daemon"}]}
